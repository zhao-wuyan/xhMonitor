{"id":"SOL-ISS-1769239097521-8-a7x9","description":"Replace old collection initialization syntax with C# 12 collection expressions for improved readability and modern code style","approach":"Systematically replace old-style collection initialization (new List<>, new Dictionary<>, new[]) with C# 12 collection expressions ([]) across the codebase. Focus on LibreHardwareManager.cs and DxgiGpuMonitor.cs as identified in the issue. This is a low-risk refactoring that improves code readability without changing behavior.","analysis":{"risk":"low","impact":"low","complexity":"low"},"score":0.95,"tasks":[{"id":"T1","title":"Replace collection expressions in LibreHardwareManager.cs","scope":"XhMonitor.Core/Services","action":"Update","description":"Replace old collection initialization syntax with C# 12 collection expressions in LibreHardwareManager.cs","modification_points":["XhMonitor.Core/Services/LibreHardwareManager.cs:104 - var readings = new List<SensorReading>()","XhMonitor.Core/Services/LibreHardwareManager.cs:153 - var results = new List<float>()","XhMonitor.Core/Services/LibreHardwareManager.cs:182 - var results = new List<SensorReading>()","XhMonitor.Core/Services/LibreHardwareManager.cs:191 - var typeSet = new HashSet<HardwareType>(hardwareTypes)","XhMonitor.Core/Services/LibreHardwareManager.cs:18 - Array.Empty<SensorReading>()","XhMonitor.Core/Services/LibreHardwareManager.cs:264 - Array.Empty<SensorReading>()"],"implementation":["Read LibreHardwareManager.cs to identify all collection initializations","Replace 'new List<SensorReading>()' with '[]' at line 104","Replace 'new List<float>()' with '[]' at line 153","Replace 'new List<SensorReading>()' with '[]' at line 182","Replace 'new HashSet<HardwareType>(hardwareTypes)' with '[.. hardwareTypes]' at line 191","Replace 'Array.Empty<SensorReading>()' with '[]' at lines 18 and 264","Verify syntax correctness"],"test":{"unit":[],"commands":["dotnet build XhMonitor.Core/XhMonitor.Core.csproj","dotnet test XhMonitor.Tests/XhMonitor.Tests.csproj --filter LibreHardwareManager"]},"acceptance":{"criteria":["All 6 collection initializations replaced with collection expressions","Code compiles without errors","All existing tests pass","No behavioral changes"],"verification":["Run dotnet build to verify compilation","Run unit tests to verify behavior unchanged","Code review to confirm syntax correctness"]},"commit":{"type":"refactor","scope":"core/services","message_template":"refactor(core/services): adopt C# 12 collection expressions in LibreHardwareManager\n\nReplace old-style collection initialization (new List<>, Array.Empty) with modern\ncollection expressions ([]) for improved readability and conciseness."},"depends_on":[],"priority":1},{"id":"T2","title":"Replace collection expressions in DxgiGpuMonitor.cs","scope":"XhMonitor.Core/Monitoring","action":"Update","description":"Replace old collection initialization syntax with C# 12 collection expressions in DxgiGpuMonitor.cs","modification_points":["XhMonitor.Core/Monitoring/DxgiGpuMonitor.cs:19 - private readonly List<GpuAdapter> _adapters = new()","XhMonitor.Core/Monitoring/DxgiGpuMonitor.cs:199 - var results = new List<GpuMemoryInfo>()","XhMonitor.Core/Monitoring/DxgiGpuMonitor.cs:649 - private readonly Dictionary<string, GpuNodeUsage> _nodeUsageCache = new()","XhMonitor.Core/Monitoring/DxgiGpuMonitor.cs:650 - private readonly Dictionary<string, double> _adapterUsageEma = new()","XhMonitor.Core/Monitoring/DxgiGpuMonitor.cs:747 - var results = new List<AdapterVramInfo>()"],"implementation":["Read DxgiGpuMonitor.cs to identify all collection initializations","Replace 'new List<GpuAdapter>()' with '[]' at line 19","Replace 'new List<GpuMemoryInfo>()' with '[]' at line 199","Replace 'new Dictionary<string, GpuNodeUsage>()' with '[]' at line 649","Replace 'new Dictionary<string, double>()' with '[]' at line 650","Replace 'new List<AdapterVramInfo>()' with '[]' at line 747","Verify syntax correctness"],"test":{"unit":[],"commands":["dotnet build XhMonitor.Core/XhMonitor.Core.csproj","dotnet test XhMonitor.Tests/XhMonitor.Tests.csproj --filter DxgiGpuMonitor"]},"acceptance":{"criteria":["All 5 collection initializations replaced with collection expressions","Code compiles without errors","All existing tests pass","No behavioral changes"],"verification":["Run dotnet build to verify compilation","Run unit tests to verify behavior unchanged","Code review to confirm syntax correctness"]},"commit":{"type":"refactor","scope":"core/monitoring","message_template":"refactor(core/monitoring): adopt C# 12 collection expressions in DxgiGpuMonitor\n\nReplace old-style collection initialization (new List<>, new Dictionary<>) with\nmodern collection expressions ([]) for improved readability."},"depends_on":["T1"],"priority":2},{"id":"T3","title":"Replace collection expressions in SystemMetricProvider.cs","scope":"XhMonitor.Core/Providers","action":"Update","description":"Replace old collection initialization syntax with C# 12 collection expressions in SystemMetricProvider.cs","modification_points":["XhMonitor.Core/Providers/SystemMetricProvider.cs:67 - var tasks = new List<Task>()"],"implementation":["Read SystemMetricProvider.cs to identify collection initializations","Replace 'new List<Task>()' with '[]' at line 67","Verify syntax correctness"],"test":{"unit":[],"commands":["dotnet build XhMonitor.Core/XhMonitor.Core.csproj","dotnet test XhMonitor.Tests/XhMonitor.Tests.csproj --filter SystemMetricProvider"]},"acceptance":{"criteria":["Collection initialization replaced with collection expression","Code compiles without errors","All existing tests pass","No behavioral changes"],"verification":["Run dotnet build to verify compilation","Run unit tests to verify behavior unchanged"]},"commit":{"type":"refactor","scope":"core/providers","message_template":"refactor(core/providers): adopt C# 12 collection expressions in SystemMetricProvider\n\nReplace old-style collection initialization with modern collection expression."},"depends_on":["T2"],"priority":3}],"is_bound":true,"bound_at":"2026-01-24T07:40:08.579Z"}
