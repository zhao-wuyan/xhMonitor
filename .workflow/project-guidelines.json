{
  "conventions": {
    "coding_style": [
      "对于列表输入，优先使用多行 TextBox（每行一项）而非 ObservableCollection + ListBox，更易于用户编辑和批量修改"
    ],
    "naming_patterns": [],
    "file_structure": [],
    "documentation": []
  },
  "constraints": {
    "architecture": [
      "监控开关架构：Desktop 端根据用户设置过滤显示指标，Server 端始终收集所有数据，确保数据完整性",
      "权限管理模式：管理员模式需要检测当前权限状态，变更时提示用户重启并申请权限，不强制要求"
    ],
    "tech_stack": [],
    "performance": [],
    "security": []
  },
  "quality_rules": [],
  "learnings": [
    {
      "date": "2026-01-27",
      "session_id": "dev-setting",
      "insight": "WPF 设置界面使用 ToggleSwitch（基于 CheckBox 自定义模板）和 SettingsCard 样式可以实现现代化的 Windows 11 风格，无需第三方库",
      "category": "architecture",
      "context": "重新设计设置页面，使用 Gemini 设计 UI，Codex 实现代码"
    },
    {
      "date": "2026-01-27",
      "session_id": "dev-setting",
      "insight": "Windows 开机自启动使用注册表 HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Run，管理员权限使用 WindowsIdentity 检测和 ProcessStartInfo.Verb='runas' 提升",
      "category": "process",
      "context": "实现开机自启动和管理员模式功能"
    },
    {
      "date": "2026-01-27",
      "session_id": "dev-setting",
      "insight": "配置项分层管理：基础设施配置（端口）放在 appsettings.json，用户偏好配置（监控开关、外观）存储在数据库 ApplicationSettings 表",
      "category": "architecture",
      "context": "设计配置管理系统"
    }
  ],
  "_metadata": {
    "created_at": "2026-01-24T00:00:00.000Z",
    "version": "1.0.0",
    "updated_at": "2026-01-27T00:00:00.000Z",
    "last_solidified_by": "dev-setting"
  }
}
