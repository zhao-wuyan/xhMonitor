# XhMonitor 前端国际化说明

## 架构设计

本项目采用**映射式国际化**架构，确保：
1. ✅ 保留原有英文文本作为key
2. ✅ 通过映射表实现中文显示
3. ✅ 便于后续扩展多语言支持

## 文件结构

```
src/
├── i18n.ts              # 国际化核心文件
├── App.tsx              # 使用 t() 函数
├── components/
│   ├── SystemSummary.tsx
│   ├── ProcessList.tsx
│   └── MetricChart.tsx
```

## 使用方法

### 1. 导入翻译函数

```typescript
import { t } from './i18n';
```

### 2. 使用翻译

```typescript
// 静态文本
<h1>{t('appTitle')}</h1>

// 动态文本（后端返回的指标名称）
<span>{t(metric.displayName)}</span>
```

### 3. 添加新翻译

在 `src/i18n.ts` 中添加：

```typescript
export const i18n = {
  zh: {
    'New Text': '新文本',
  },
  en: {
    'New Text': 'New Text',
  },
};
```

## 当前支持的语言

- ✅ 中文 (zh) - 默认
- ✅ 英文 (en)

## 切换语言

```typescript
import { setLocale } from './i18n';

// 切换到英文
setLocale('en');

// 切换到中文
setLocale('zh');
```

## 已翻译的文本

### 页面标题
- `appTitle`: XhMonitor
- `appSubtitle`: Windows 资源监控器

### 连接状态
- `connected`: 已连接
- `disconnected`: 未连接
- `reconnecting`: 重新连接中...
- `connectionClosed`: 连接已关闭

### 指标名称
- `CPU Usage`: CPU 使用率
- `Memory Usage`: 内存使用
- `GPU Usage`: GPU 使用率
- `VRAM Usage`: 显存使用

### 进程监控
- `Process Monitor`: 进程监控
- `Search processes...`: 搜索进程...
- `Process`: 进程
- `PID`: 进程ID

### 通用文本
- `processes`: 个进程
- `Loading configuration...`: 正在加载配置...
- `Waiting for metrics data...`: 等待指标数据...

## 扩展国际化

### 添加新语言（如日语）

1. 在 `i18n.ts` 中添加语言定义：

```typescript
export const i18n = {
  zh: { /* 中文 */ },
  en: { /* 英文 */ },
  ja: {
    appTitle: 'XhMonitor',
    appSubtitle: 'Windows リソースモニター',
    connected: '接続済み',
    // ... 其他翻译
  },
};
```

2. 更新类型定义：

```typescript
let currentLocale: 'zh' | 'en' | 'ja' = 'zh';
```

## 注意事项

1. **保持英文key不变** - 英文文本作为key，确保代码稳定性
2. **后端返回的文本** - 如 `metric.displayName`，也通过 `t()` 函数映射
3. **未找到翻译** - 如果key不存在，会返回原始key值
4. **动态切换** - 切换语言后需要刷新页面或重新渲染组件

## 最佳实践

1. ✅ 所有用户可见文本都使用 `t()` 函数
2. ✅ 保持翻译文件同步更新
3. ✅ 使用有意义的key名称
4. ✅ 为新功能及时添加翻译
